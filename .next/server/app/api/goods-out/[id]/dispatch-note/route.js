/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/goods-out/[id]/dispatch-note/route";
exports.ids = ["app/api/goods-out/[id]/dispatch-note/route"];
exports.modules = {

/***/ "(rsc)/./app/api/goods-out/[id]/dispatch-note/route.ts":
/*!*******************************************************!*\
  !*** ./app/api/goods-out/[id]/dispatch-note/route.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! nodemailer */ \"(rsc)/./node_modules/nodemailer/lib/nodemailer.js\");\n\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_1__.PrismaClient();\n// Single grade mapping helper (DB numeric -> letter). 0 or null -> N/A (omitted in text).\nconst gradeToLetter = (g)=>{\n    if (g === null || g === undefined) return \"N/A\";\n    const num = Number(g);\n    if (Number.isNaN(num)) return String(g);\n    const map = {\n        0: \"N/A\",\n        1: \"A\",\n        2: \"B\",\n        3: \"C\",\n        4: \"D\",\n        5: \"E\",\n        6: \"F\"\n    };\n    return map[num] ?? String(num);\n};\nasync function buildDispatchData(orderId) {\n    // Get order details\n    const order = await prisma.tbl_orders.findFirst({\n        where: {\n            order_id: orderId\n        }\n    });\n    if (!order) throw new Error(\"Order not found\");\n    // Get customer details\n    const customer = order.customer_id ? await prisma.tbl_customers.findFirst({\n        where: {\n            customer_id: order.customer_id\n        }\n    }) : null;\n    // Get company settings\n    const companySettings = await prisma.tbl_settings.findFirst();\n    // Get all devices for this order (each row is an item dispatched under this order)\n    const devices = await prisma.tbl_orders.findMany({\n        where: {\n            order_id: orderId\n        }\n    });\n    // Join out IMEI and TAC\n    const imeiDetails = await Promise.all(devices.map(async (device)=>{\n        if (device.item_imei) {\n            const imei = await prisma.tbl_imei.findFirst({\n                where: {\n                    item_imei: device.item_imei\n                }\n            });\n            const tac = imei?.item_tac && await prisma.tbl_tac.findFirst({\n                where: {\n                    item_tac: imei.item_tac\n                }\n            });\n            return {\n                device,\n                imei,\n                tac\n            };\n        }\n        return {\n            device,\n            imei: null,\n            tac: null\n        };\n    }));\n    // Build a brandId -> title map from tbl_categories so we can map codes like \"CAT3\" to real manufacturer names.\n    const brandIds = Array.from(new Set(imeiDetails.map(({ tac })=>tac?.item_brand).filter((v)=>v !== undefined && v !== null)));\n    const categoryMap = new Map();\n    if (brandIds.length) {\n        const categories = await prisma.tbl_categories.findMany({\n            where: {\n                category_id: {\n                    in: brandIds\n                }\n            }\n        });\n        categories.forEach((c)=>{\n            categoryMap.set(c.category_id, c.title);\n        });\n    }\n    // Group devices\n    const groupedDevices = {};\n    imeiDetails.forEach(({ imei, tac })=>{\n        // tac.item_brand is a ref code/id; resolve to human title via tbl_categories\n        const brandCode = tac?.item_brand;\n        const resolvedBrand = brandCode !== undefined && brandCode !== null && categoryMap.get(brandCode) || String(brandCode ?? \"Unknown\");\n        const details = tac?.item_details ?? \"Unknown\";\n        const color = imei?.item_color ?? \"Unknown\";\n        const gb = imei?.item_gb ?? \"Unknown\";\n        // Prefer mapping via tbl_grades if available; otherwise use enumeration\n        const rawGrade = imei?.item_grade;\n        const mappedGrade = gradeToLetter(rawGrade);\n        const key = `${resolvedBrand}|${details}|${color}|${gb}|${mappedGrade}`;\n        if (!groupedDevices[key]) {\n            groupedDevices[key] = {\n                brand: resolvedBrand,\n                details,\n                color,\n                gb,\n                grade: mappedGrade,\n                count: 0\n            };\n        }\n        groupedDevices[key].count++;\n    });\n    const totalCount = Object.values(groupedDevices).reduce((sum, d)=>sum + d.count, 0);\n    return {\n        order,\n        customer,\n        companySettings,\n        groupedDevices,\n        totalCount\n    };\n}\nasync function createPdfBuffer({ orderId, order, customer, companySettings, groupedDevices, totalCount }) {\n    const PDFDocument = (await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/crypto-js\"), __webpack_require__.e(\"vendor-chunks/restructure\"), __webpack_require__.e(\"vendor-chunks/brotli\"), __webpack_require__.e(\"vendor-chunks/unicode-trie\"), __webpack_require__.e(\"vendor-chunks/linebreak\"), __webpack_require__.e(\"vendor-chunks/jpeg-exif\"), __webpack_require__.e(\"vendor-chunks/fontkit\"), __webpack_require__.e(\"vendor-chunks/unicode-properties\"), __webpack_require__.e(\"vendor-chunks/tslib\"), __webpack_require__.e(\"vendor-chunks/@swc\"), __webpack_require__.e(\"vendor-chunks/tiny-inflate\"), __webpack_require__.e(\"vendor-chunks/png-js\"), __webpack_require__.e(\"vendor-chunks/pdfkit\"), __webpack_require__.e(\"vendor-chunks/fast-deep-equal\"), __webpack_require__.e(\"vendor-chunks/dfa\"), __webpack_require__.e(\"vendor-chunks/base64-js\")]).then(__webpack_require__.bind(__webpack_require__, /*! pdfkit */ \"(rsc)/./node_modules/pdfkit/js/pdfkit.es.js\"))).default;\n    // Professional look & feel\n    const doc = new PDFDocument({\n        size: \"A4\",\n        margin: 36\n    }); // ~0.5\" margins\n    const chunks = [];\n    const pageWidth = doc.page.width;\n    const left = 36;\n    const right = pageWidth - 36;\n    const COLORS = {\n        accent: \"#0a66c2\",\n        text: \"#222222\",\n        subtle: \"#666666\",\n        rule: \"#e0e0e0\",\n        tableHeaderBg: \"#f5f7fb\"\n    };\n    // Use PDFKit core fonts only (no file paths). Valid names: Helvetica, Times-Roman, Courier, etc.\n    doc.font(\"Helvetica\");\n    doc.fillColor(COLORS.text);\n    doc.fontSize(10);\n    doc.on(\"data\", (chunk)=>chunks.push(chunk));\n    const endPromise = new Promise((resolve)=>doc.on(\"end\", ()=>resolve()));\n    // Header: title bar\n    const titleBarY = doc.y;\n    doc.rect(left, titleBarY, right - left, 24).fill(COLORS.tableHeaderBg);\n    doc.fillColor(COLORS.accent);\n    doc.font(\"Helvetica\").fontSize(15).text(\"Dispatch Note\", left + 8, titleBarY + 6);\n    doc.fillColor(COLORS.text);\n    // Company (left) and Meta (right) columns WITHOUT a divider yet\n    doc.moveDown(0.8);\n    const colTopY = doc.y;\n    const leftColW = 300;\n    const rightColW = right - (left + leftColW);\n    // Company info - slightly smaller to avoid crowding\n    let companyEndY = colTopY;\n    if (companySettings) {\n        doc.font(\"Helvetica\").fontSize(12).text(companySettings.company_title || \"S4D Limited\", left, companyEndY, {\n            width: leftColW\n        });\n        doc.font(\"Helvetica\").fontSize(9).fillColor(COLORS.subtle);\n        companyEndY = doc.y;\n        if (companySettings.address) doc.text(companySettings.address, left, companyEndY, {\n            width: leftColW\n        });\n        if ([\n            companySettings.city,\n            companySettings.country\n        ].some(Boolean)) {\n            doc.text([\n                companySettings.city,\n                companySettings.country\n            ].filter(Boolean).join(\", \"), {\n                width: leftColW\n            });\n        }\n        if (companySettings.postcode) doc.text(companySettings.postcode, {\n            width: leftColW\n        });\n        if (companySettings.phone) doc.text(`Office: ${companySettings.phone}`, {\n            width: leftColW\n        });\n        if (companySettings.email) doc.text(companySettings.email, {\n            width: leftColW\n        });\n        doc.text(\"www.s4dltd.com\", {\n            width: leftColW\n        });\n        companyEndY = doc.y; // ensure end Y is after URL\n    }\n    // Dispatch meta (right) - right aligned, anchored at colTopY\n    doc.fillColor(COLORS.text);\n    doc.font(\"Helvetica\").fontSize(12);\n    doc.text(`Dispatch #: IO-${orderId}`, left + leftColW, colTopY, {\n        width: rightColW,\n        align: \"right\"\n    });\n    doc.font(\"Helvetica\").fontSize(10).fillColor(COLORS.subtle);\n    doc.text(`Date: ${order.date ? new Date(order.date).toLocaleDateString() : \"N/A\"}`, left + leftColW, doc.y, {\n        width: rightColW,\n        align: \"right\"\n    });\n    // Force the y-position below the full company block (after URL) before drawing divider\n    const afterColumnsY = Math.max(doc.y, companyEndY);\n    doc.y = afterColumnsY + 8; // add a bit more spacing to ensure it's clearly below\n    doc.strokeColor(COLORS.rule).moveTo(left, doc.y).lineTo(right, doc.y).stroke();\n    // Customer section: right-justified ADDRESS ONLY; meta stays left-aligned under the line\n    doc.moveDown(0.6);\n    // Move just the \"Customer\" label to the right so it sits above the right-justified address\n    doc.font(\"Helvetica-Bold\").fontSize(11).fillColor(COLORS.text).text(\"Customer\", left + leftColW, doc.y, {\n        width: right - (left + leftColW),\n        align: \"right\"\n    });\n    doc.moveDown(0.2);\n    if (customer) {\n        doc.font(\"Helvetica\").fontSize(10).fillColor(COLORS.text);\n        const addressLines = [];\n        if (customer.name) addressLines.push(String(customer.name));\n        if (customer.address) addressLines.push(String(customer.address));\n        if (customer.address2) addressLines.push(String(customer.address2));\n        const cityCountry = [\n            customer.city,\n            customer.country\n        ].filter(Boolean).join(\", \");\n        if (cityCountry) addressLines.push(cityCountry);\n        if (customer.postcode) addressLines.push(String(customer.postcode));\n        if (customer.phone) addressLines.push(String(customer.phone));\n        if (customer.email) addressLines.push(String(customer.email));\n        // Right-justify only the address block on the right half\n        const pad = 6;\n        const addrX = left + leftColW + pad;\n        const addrW = right - addrX - pad;\n        // Top faint rule to visually contain this block\n        const startY = doc.y;\n        doc.rect(left, startY, right - left, 0.1).fill(COLORS.rule);\n        doc.fillColor(COLORS.text);\n        doc.moveDown(0.2);\n        addressLines.forEach((t)=>{\n            doc.text(t, addrX, doc.y + 2, {\n                width: addrW,\n                align: \"right\"\n            });\n        });\n        // Left-aligned meta list under the divider, on the LEFT side\n        doc.moveDown(0.4);\n        const metaStartY = Math.max(doc.y, startY);\n        doc.y = metaStartY;\n        const metaPairs = [\n            [\n                \"Customer Ref\",\n                order.customer_ref || \"N/A\"\n            ],\n            [\n                \"Courier\",\n                order.delivery_company || \"N/A\"\n            ],\n            [\n                \"Tracking No\",\n                order.tracking_no || \"N/A\"\n            ],\n            [\n                \"PO Reference\",\n                order.po_box || \"N/A\"\n            ],\n            [\n                \"Totals\",\n                `Boxes: ${order.total_boxes != null ? String(order.total_boxes) : \"N/A\"}  |  Pallets: ${order.total_pallets != null ? String(order.total_pallets) : \"N/A\"}`\n            ]\n        ];\n        const labelW = 100;\n        const metaX = left + pad;\n        const metaW = left + leftColW - metaX - pad;\n        metaPairs.forEach(([k, v])=>{\n            doc.font(\"Helvetica-Bold\").fillColor(COLORS.text).text(`${k}:`, metaX, doc.y, {\n                width: labelW\n            });\n            doc.font(\"Helvetica\").fillColor(COLORS.subtle).text(v, metaX + labelW + 6, doc.y - 12, {\n                width: metaW - labelW - 6\n            });\n            doc.fillColor(COLORS.text);\n            doc.moveDown(0.2);\n        });\n        // Bottom rule for the whole customer block\n        doc.moveDown(0.2);\n        doc.strokeColor(COLORS.rule).moveTo(left, doc.y + 2).lineTo(right, doc.y + 2).stroke();\n        doc.moveDown(0.6);\n    } else {\n        doc.font(\"Helvetica-Oblique\").fontSize(10).fillColor(COLORS.subtle).text(\"N/A\", left + leftColW, doc.y, {\n            width: rightColW,\n            align: \"right\"\n        });\n    }\n    // Items table\n    // Header row\n    doc.rect(left, doc.y, right - left, 20).fill(COLORS.tableHeaderBg);\n    doc.fillColor(COLORS.text).font(\"Helvetica-Bold\").fontSize(10);\n    const descX = left + 8;\n    const qtyX = right - 40;\n    const headerY = doc.y + 4;\n    doc.text(\"Description\", descX, headerY, {\n        width: qtyX - descX - 8\n    });\n    doc.text(\"Qty\", qtyX, headerY, {\n        width: 32,\n        align: \"right\"\n    });\n    doc.moveDown(1.2);\n    doc.font(\"Helvetica\").fontSize(10).fillColor(COLORS.text);\n    // Rows with light horizontal lines\n    Object.values(groupedDevices).forEach((d)=>{\n        const desc = `${d.brand} ${d.details} ${d.color}` + `${d.gb ? \" \" + d.gb + \"GB\" : \"\"}` + `${d.grade && d.grade !== \"N/A\" ? \" Grade \" + d.grade : \"\"}`;\n        const rowY = doc.y + 4;\n        doc.text(desc, descX, rowY, {\n            width: qtyX - descX - 8\n        });\n        const afterDescY = doc.y;\n        doc.text(String(d.count), qtyX, rowY, {\n            width: 32,\n            align: \"right\"\n        });\n        const afterQtyY = doc.y;\n        const rowBottom = Math.max(afterDescY, afterQtyY) + 6;\n        doc.strokeColor(COLORS.rule).moveTo(left, rowBottom).lineTo(right, rowBottom).stroke();\n        doc.y = rowBottom;\n    });\n    // Total row\n    doc.moveDown(0.4);\n    doc.font(\"Helvetica-Bold\").fillColor(COLORS.text);\n    doc.text(\"Total\", descX, doc.y, {\n        width: qtyX - descX - 8\n    });\n    doc.text(String(totalCount), qtyX, doc.y - 12, {\n        width: 32,\n        align: \"right\"\n    });\n    doc.moveDown(0.6);\n    // Signature section\n    const drawSig = (label)=>{\n        doc.font(\"Helvetica\").fontSize(10).fillColor(COLORS.text).text(label, left, doc.y + 6);\n        const y = doc.y + 10;\n        doc.strokeColor(\"#000\").moveTo(left + 120, y).lineTo(right - 150, y).stroke();\n        doc.moveDown(0.6);\n    };\n    drawSig(\"Dispatched by:\");\n    drawSig(\"Received by Signature:\");\n    drawSig(\"Received by Print:\");\n    // Footer notes\n    doc.moveDown(0.8);\n    doc.font(\"Helvetica-Bold\").fontSize(9).fillColor(COLORS.text).text(\"ANY DISCREPANCIES MUST BE REPORTED WITHIN 48 HOURS OF DELIVERY\", {\n        align: \"center\"\n    });\n    doc.moveDown(0.2);\n    doc.font(\"Helvetica\").fontSize(7).fillColor(\"#777777\").text(\"Confidentiality Notice: This document has been sent by S4D Limited (registered in England and Wales with number 9342012). \" + \"Registered office: Ebenezer House, Ryecroft, Newcastle Under Lyme, Staffordshire, ST5 2BE. This document is confidential and intended for the use of the named recipient only. \" + \"If you are not the intended recipient, please notify us immediately. Please note that this document and any attachments have not been encrypted. \" + \"They may, therefore, be liable to be compromised. Please also note that it is your responsibility to scan this document and any attachments for viruses.\", {\n        align: \"left\"\n    });\n    doc.end();\n    await endPromise;\n    return Buffer.concat(chunks);\n}\n/**\n * Send the generated dispatch note PDF via SMTP (Mailtrap) to a default recipient.\n * This is best-effort; failures are logged but do not block the API response.\n */ async function emailDispatchNote(pdf, { orderId, customerName, customerEmail, companyTitle }) {\n    // Read SMTP config from env with safe fallbacks per user's provided details.\n    const host = process.env.MAILTRAP_HOST || \"live.smtp.mailtrap.io\";\n    const port = Number(process.env.MAILTRAP_PORT || 2525);\n    const secure = false; // Mailtrap works on STARTTLS for 2525 typically\n    const user = process.env.MAILTRAP_USER || \"api\";\n    const pass = process.env.MAILTRAP_PASS || \"37de0592616065d26cd67312cf19b236\";\n    const from = process.env.MAIL_FROM || \"warehouse@quantum-cloud.co.uk\";\n    const to = process.env.MAIL_TO_DEFAULT || \"s4dpaul@mail.com\";\n    const cc = process.env.MAIL_CC || \"warehouse@s4dltd.com\";\n    const replyTo = process.env.MAIL_REPLY_TO || from;\n    const transporter = nodemailer__WEBPACK_IMPORTED_MODULE_2__.createTransport({\n        host,\n        port,\n        secure,\n        auth: {\n            user,\n            pass\n        },\n        tls: {\n            rejectUnauthorized: false\n        }\n    });\n    const subject = `Dispatch Note IO-${orderId}`;\n    const html = `\n    <div style=\"font-family: Arial, sans-serif; font-size:14px; color:#222\">\n      <p>Please find attached the dispatch note for order <strong>IO-${orderId}</strong>.</p>\n      ${companyTitle ? `<p>Company: <strong>${companyTitle}</strong></p>` : \"\"}\n      ${customerName ? `<p>Customer: <strong>${customerName}</strong></p>` : \"\"}\n      ${customerEmail ? `<p>Customer Email: ${customerEmail}</p>` : \"\"}\n      <p style=\"margin-top:16px;color:#666\">This email was sent automatically by the S4D system.</p>\n    </div>\n  `;\n    try {\n        await transporter.sendMail({\n            from,\n            to,\n            cc,\n            replyTo,\n            subject,\n            html,\n            text: `Dispatch note for IO-${orderId} attached.`,\n            attachments: [\n                {\n                    filename: `dispatch-note-${orderId}.pdf`,\n                    content: pdf,\n                    contentType: \"application/pdf\"\n                }\n            ]\n        });\n        console.log(`[dispatch-note] Email sent for IO-${orderId} to ${to} (cc: ${cc})`);\n    } catch (err) {\n        console.error(`[dispatch-note] Failed to send email for IO-${orderId}:`, err);\n    }\n}\n// GET /api/goods-out/[id]/dispatch-note - Generate dispatch note for a goods out order\nasync function GET(request, { params }) {\n    try {\n        const { id } = await params;\n        const orderId = parseInt(id);\n        if (isNaN(orderId)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid order ID\"\n            }, {\n                status: 400\n            });\n        }\n        const data = await buildDispatchData(orderId);\n        const pdfBuffer = await createPdfBuffer({\n            orderId,\n            ...data\n        });\n        // Fire-and-forget email (do not block response). Await to ensure errors are caught here,\n        // but we won't throw even if it fails; the download still proceeds.\n        emailDispatchNote(pdfBuffer, {\n            orderId,\n            customerName: data.customer?.name ?? null,\n            customerEmail: data.customer?.email ?? null,\n            companyTitle: data.companySettings?.company_title ?? null\n        });\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(pdfBuffer, {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/pdf\",\n                \"Content-Disposition\": `attachment; filename=\"dispatch-note-${orderId}.pdf\"`,\n                \"Content-Length\": String(pdfBuffer.length)\n            }\n        });\n    } catch (error) {\n        console.error(\"Dispatch Note GET error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to generate dispatch note: \" + (error instanceof Error ? error.message : \"Unknown error\")\n        }, {\n            status: 500\n        });\n    } finally{\n        await prisma.$disconnect();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2dvb2RzLW91dC9baWRdL2Rpc3BhdGNoLW5vdGUvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0Q7QUFDVjtBQUVWO0FBRXBDLE1BQU1HLFNBQVMsSUFBSUYsd0RBQVlBO0FBVy9CLDBGQUEwRjtBQUMxRixNQUFNRyxnQkFBZ0IsQ0FBQ0M7SUFDckIsSUFBSUEsTUFBTSxRQUFRQSxNQUFNQyxXQUFXLE9BQU87SUFDMUMsTUFBTUMsTUFBTUMsT0FBT0g7SUFDbkIsSUFBSUcsT0FBT0MsS0FBSyxDQUFDRixNQUFNLE9BQU9HLE9BQU9MO0lBQ3JDLE1BQU1NLE1BQThCO1FBQ2xDLEdBQUc7UUFDSCxHQUFHO1FBQ0gsR0FBRztRQUNILEdBQUc7UUFDSCxHQUFHO1FBQ0gsR0FBRztRQUNILEdBQUc7SUFDTDtJQUNBLE9BQU9BLEdBQUcsQ0FBQ0osSUFBSSxJQUFJRyxPQUFPSDtBQUM1QjtBQUVBLGVBQWVLLGtCQUFrQkMsT0FBZTtJQUM5QyxvQkFBb0I7SUFDcEIsTUFBTUMsUUFBUSxNQUFNWCxPQUFPWSxVQUFVLENBQUNDLFNBQVMsQ0FBQztRQUM5Q0MsT0FBTztZQUFFQyxVQUFVTDtRQUFRO0lBQzdCO0lBQ0EsSUFBSSxDQUFDQyxPQUFPLE1BQU0sSUFBSUssTUFBTTtJQUU1Qix1QkFBdUI7SUFDdkIsTUFBTUMsV0FBV04sTUFBTU8sV0FBVyxHQUM5QixNQUFNbEIsT0FBT21CLGFBQWEsQ0FBQ04sU0FBUyxDQUFDO1FBQ25DQyxPQUFPO1lBQUVJLGFBQWFQLE1BQU1PLFdBQVc7UUFBQztJQUMxQyxLQUNBO0lBRUosdUJBQXVCO0lBQ3ZCLE1BQU1FLGtCQUFrQixNQUFNcEIsT0FBT3FCLFlBQVksQ0FBQ1IsU0FBUztJQUUzRCxtRkFBbUY7SUFDbkYsTUFBTVMsVUFBVSxNQUFNdEIsT0FBT1ksVUFBVSxDQUFDVyxRQUFRLENBQUM7UUFDL0NULE9BQU87WUFBRUMsVUFBVUw7UUFBUTtJQUM3QjtJQUVBLHdCQUF3QjtJQUN4QixN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RTtRQUNwRTlDLGtCQUFrQitDLFdBQVc7WUFDM0IxTTtZQUNBNkosY0FBYzRDLEtBQUtsTSxRQUFRLEVBQUVtSCxRQUFRO1lBQ3JDb0MsZUFBZTJDLEtBQUtsTSxRQUFRLEVBQUVzRyxTQUFTO1lBQ3ZDa0QsY0FBYzBDLEtBQUsvTCxlQUFlLEVBQUUwRixpQkFBaUI7UUFDdkQ7UUFFQSxPQUFPLElBQUlqSCxxREFBWUEsQ0FBQ3VOLFdBQVc7WUFDakNGLFFBQVE7WUFDUkcsU0FBUztnQkFDUCxnQkFBZ0I7Z0JBQ2hCLHVCQUF1QixDQUFDLG9DQUFvQyxFQUFFM00sUUFBUSxLQUFLLENBQUM7Z0JBQzVFLGtCQUFrQkgsT0FBTzZNLFVBQVV6SyxNQUFNO1lBQzNDO1FBQ0Y7SUFDRixFQUFFLE9BQU9nSyxPQUFPO1FBQ2RILFFBQVFHLEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLE9BQU85TSxxREFBWUEsQ0FBQ29OLElBQUksQ0FDdEI7WUFDRU4sT0FDRSx1Q0FDQ0EsQ0FBQUEsaUJBQWlCM0wsUUFBUTJMLE1BQU1XLE9BQU8sR0FBRyxlQUFjO1FBQzVELEdBQ0E7WUFBRUosUUFBUTtRQUFJO0lBRWxCLFNBQVU7UUFDUixNQUFNbE4sT0FBT3VOLFdBQVc7SUFDMUI7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvZ2FzY2F0L3ByaXNtYXF1YW50L3ByaXNtYS1xdWFudHVtL2FwcC9hcGkvZ29vZHMtb3V0L1tpZF0vZGlzcGF0Y2gtbm90ZS9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcbmltcG9ydCB0eXBlIHsgUmVhZGFibGUgfSBmcm9tIFwic3RyZWFtXCI7XG5pbXBvcnQgbm9kZW1haWxlciBmcm9tIFwibm9kZW1haWxlclwiO1xuXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XG5cbnR5cGUgR3JvdXBlZERldmljZSA9IHtcbiAgYnJhbmQ6IHN0cmluZztcbiAgZGV0YWlsczogc3RyaW5nO1xuICBjb2xvcjogc3RyaW5nO1xuICBnYjogc3RyaW5nO1xuICBncmFkZTogc3RyaW5nO1xuICBjb3VudDogbnVtYmVyO1xufTtcblxuLy8gU2luZ2xlIGdyYWRlIG1hcHBpbmcgaGVscGVyIChEQiBudW1lcmljIC0+IGxldHRlcikuIDAgb3IgbnVsbCAtPiBOL0EgKG9taXR0ZWQgaW4gdGV4dCkuXG5jb25zdCBncmFkZVRvTGV0dGVyID0gKGc6IGFueSk6IHN0cmluZyA9PiB7XG4gIGlmIChnID09PSBudWxsIHx8IGcgPT09IHVuZGVmaW5lZCkgcmV0dXJuIFwiTi9BXCI7XG4gIGNvbnN0IG51bSA9IE51bWJlcihnKTtcbiAgaWYgKE51bWJlci5pc05hTihudW0pKSByZXR1cm4gU3RyaW5nKGcpO1xuICBjb25zdCBtYXA6IFJlY29yZDxudW1iZXIsIHN0cmluZz4gPSB7XG4gICAgMDogXCJOL0FcIixcbiAgICAxOiBcIkFcIixcbiAgICAyOiBcIkJcIixcbiAgICAzOiBcIkNcIixcbiAgICA0OiBcIkRcIixcbiAgICA1OiBcIkVcIixcbiAgICA2OiBcIkZcIixcbiAgfTtcbiAgcmV0dXJuIG1hcFtudW1dID8/IFN0cmluZyhudW0pO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gYnVpbGREaXNwYXRjaERhdGEob3JkZXJJZDogbnVtYmVyKSB7XG4gIC8vIEdldCBvcmRlciBkZXRhaWxzXG4gIGNvbnN0IG9yZGVyID0gYXdhaXQgcHJpc21hLnRibF9vcmRlcnMuZmluZEZpcnN0KHtcbiAgICB3aGVyZTogeyBvcmRlcl9pZDogb3JkZXJJZCB9LFxuICB9KTtcbiAgaWYgKCFvcmRlcikgdGhyb3cgbmV3IEVycm9yKFwiT3JkZXIgbm90IGZvdW5kXCIpO1xuXG4gIC8vIEdldCBjdXN0b21lciBkZXRhaWxzXG4gIGNvbnN0IGN1c3RvbWVyID0gb3JkZXIuY3VzdG9tZXJfaWRcbiAgICA/IGF3YWl0IHByaXNtYS50YmxfY3VzdG9tZXJzLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7IGN1c3RvbWVyX2lkOiBvcmRlci5jdXN0b21lcl9pZCB9LFxuICAgICAgfSlcbiAgICA6IG51bGw7XG5cbiAgLy8gR2V0IGNvbXBhbnkgc2V0dGluZ3NcbiAgY29uc3QgY29tcGFueVNldHRpbmdzID0gYXdhaXQgcHJpc21hLnRibF9zZXR0aW5ncy5maW5kRmlyc3QoKTtcblxuICAvLyBHZXQgYWxsIGRldmljZXMgZm9yIHRoaXMgb3JkZXIgKGVhY2ggcm93IGlzIGFuIGl0ZW0gZGlzcGF0Y2hlZCB1bmRlciB0aGlzIG9yZGVyKVxuICBjb25zdCBkZXZpY2VzID0gYXdhaXQgcHJpc21hLnRibF9vcmRlcnMuZmluZE1hbnkoe1xuICAgIHdoZXJlOiB7IG9yZGVyX2lkOiBvcmRlcklkIH0sXG4gIH0pO1xuXG4gIC8vIEpvaW4gb3V0IElNRUkgYW5kIFRBQ1xuICBjb25zdCBpbWVpRGV0YWlscyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgIGRldmljZXMubWFwKGFzeW5jIChkZXZpY2UpID0+IHtcbiAgICAgIGlmIChkZXZpY2UuaXRlbV9pbWVpKSB7XG4gICAgICAgIGNvbnN0IGltZWkgPSBhd2FpdCBwcmlzbWEudGJsX2ltZWkuZmluZEZpcnN0KHtcbiAgICAgICAgICB3aGVyZTogeyBpdGVtX2ltZWk6IGRldmljZS5pdGVtX2ltZWkgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdGFjID1cbiAgICAgICAgICBpbWVpPy5pdGVtX3RhYyAmJlxuICAgICAgICAgIChhd2FpdCBwcmlzbWEudGJsX3RhYy5maW5kRmlyc3Qoe1xuICAgICAgICAgICAgd2hlcmU6IHsgaXRlbV90YWM6IGltZWkuaXRlbV90YWMgfSxcbiAgICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIHsgZGV2aWNlLCBpbWVpLCB0YWMgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGRldmljZSwgaW1laTogbnVsbCBhcyBhbnksIHRhYzogbnVsbCBhcyBhbnkgfTtcbiAgICB9KVxuICApO1xuXG4gIC8vIEJ1aWxkIGEgYnJhbmRJZCAtPiB0aXRsZSBtYXAgZnJvbSB0YmxfY2F0ZWdvcmllcyBzbyB3ZSBjYW4gbWFwIGNvZGVzIGxpa2UgXCJDQVQzXCIgdG8gcmVhbCBtYW51ZmFjdHVyZXIgbmFtZXMuXG4gIGNvbnN0IGJyYW5kSWRzID0gQXJyYXkuZnJvbShcbiAgICBuZXcgU2V0KFxuICAgICAgaW1laURldGFpbHNcbiAgICAgICAgLm1hcCgoeyB0YWMgfSkgPT4gdGFjPy5pdGVtX2JyYW5kKVxuICAgICAgICAuZmlsdGVyKCh2KSA9PiB2ICE9PSB1bmRlZmluZWQgJiYgdiAhPT0gbnVsbClcbiAgICApXG4gICkgYXMgKG51bWJlciB8IHN0cmluZylbXTtcblxuICBjb25zdCBjYXRlZ29yeU1hcCA9IG5ldyBNYXA8c3RyaW5nIHwgbnVtYmVyLCBzdHJpbmc+KCk7XG4gIGlmIChicmFuZElkcy5sZW5ndGgpIHtcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gYXdhaXQgcHJpc21hLnRibF9jYXRlZ29yaWVzLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7IGNhdGVnb3J5X2lkOiB7IGluOiBicmFuZElkcyBhcyBhbnkgfSB9LFxuICAgIH0pO1xuICAgIGNhdGVnb3JpZXMuZm9yRWFjaCgoYzogYW55KSA9PiB7XG4gICAgICBjYXRlZ29yeU1hcC5zZXQoYy5jYXRlZ29yeV9pZCwgYy50aXRsZSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBHcm91cCBkZXZpY2VzXG4gIGNvbnN0IGdyb3VwZWREZXZpY2VzOiBSZWNvcmQ8c3RyaW5nLCBHcm91cGVkRGV2aWNlPiA9IHt9O1xuICBpbWVpRGV0YWlscy5mb3JFYWNoKCh7IGltZWksIHRhYyB9KSA9PiB7XG4gICAgLy8gdGFjLml0ZW1fYnJhbmQgaXMgYSByZWYgY29kZS9pZDsgcmVzb2x2ZSB0byBodW1hbiB0aXRsZSB2aWEgdGJsX2NhdGVnb3JpZXNcbiAgICBjb25zdCBicmFuZENvZGUgPSB0YWM/Lml0ZW1fYnJhbmQgYXMgYW55O1xuICAgIGNvbnN0IHJlc29sdmVkQnJhbmQgPVxuICAgICAgKGJyYW5kQ29kZSAhPT0gdW5kZWZpbmVkICYmIGJyYW5kQ29kZSAhPT0gbnVsbCAmJiBjYXRlZ29yeU1hcC5nZXQoYnJhbmRDb2RlKSkgfHxcbiAgICAgIFN0cmluZyhicmFuZENvZGUgPz8gXCJVbmtub3duXCIpO1xuXG4gICAgY29uc3QgZGV0YWlscyA9ICh0YWM/Lml0ZW1fZGV0YWlscyBhcyBhbnkpID8/IFwiVW5rbm93blwiO1xuICAgIGNvbnN0IGNvbG9yID0gKGltZWk/Lml0ZW1fY29sb3IgYXMgYW55KSA/PyBcIlVua25vd25cIjtcbiAgICBjb25zdCBnYiA9IChpbWVpPy5pdGVtX2diIGFzIGFueSkgPz8gXCJVbmtub3duXCI7XG5cbiAgICAvLyBQcmVmZXIgbWFwcGluZyB2aWEgdGJsX2dyYWRlcyBpZiBhdmFpbGFibGU7IG90aGVyd2lzZSB1c2UgZW51bWVyYXRpb25cbiAgICBjb25zdCByYXdHcmFkZSA9IGltZWk/Lml0ZW1fZ3JhZGU7XG4gICAgY29uc3QgbWFwcGVkR3JhZGUgPSBncmFkZVRvTGV0dGVyKHJhd0dyYWRlKTtcblxuICAgIGNvbnN0IGtleSA9IGAke3Jlc29sdmVkQnJhbmR9fCR7ZGV0YWlsc318JHtjb2xvcn18JHtnYn18JHttYXBwZWRHcmFkZX1gO1xuICAgIGlmICghZ3JvdXBlZERldmljZXNba2V5XSkge1xuICAgICAgZ3JvdXBlZERldmljZXNba2V5XSA9IHtcbiAgICAgICAgYnJhbmQ6IHJlc29sdmVkQnJhbmQsXG4gICAgICAgIGRldGFpbHMsXG4gICAgICAgIGNvbG9yLFxuICAgICAgICBnYixcbiAgICAgICAgZ3JhZGU6IG1hcHBlZEdyYWRlLFxuICAgICAgICBjb3VudDogMCxcbiAgICAgIH07XG4gICAgfVxuICAgIGdyb3VwZWREZXZpY2VzW2tleV0uY291bnQrKztcbiAgfSk7XG5cbiAgY29uc3QgdG90YWxDb3VudCA9IE9iamVjdC52YWx1ZXMoZ3JvdXBlZERldmljZXMpLnJlZHVjZShcbiAgICAoc3VtLCBkKSA9PiBzdW0gKyBkLmNvdW50LFxuICAgIDBcbiAgKTtcblxuICByZXR1cm4geyBvcmRlciwgY3VzdG9tZXIsIGNvbXBhbnlTZXR0aW5ncywgZ3JvdXBlZERldmljZXMsIHRvdGFsQ291bnQgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlUGRmQnVmZmVyKHtcbiAgb3JkZXJJZCxcbiAgb3JkZXIsXG4gIGN1c3RvbWVyLFxuICBjb21wYW55U2V0dGluZ3MsXG4gIGdyb3VwZWREZXZpY2VzLFxuICB0b3RhbENvdW50LFxufToge1xuICBvcmRlcklkOiBudW1iZXI7XG4gIG9yZGVyOiBhbnk7XG4gIGN1c3RvbWVyOiBhbnk7XG4gIGNvbXBhbnlTZXR0aW5nczogYW55O1xuICBncm91cGVkRGV2aWNlczogUmVjb3JkPHN0cmluZywgR3JvdXBlZERldmljZT47XG4gIHRvdGFsQ291bnQ6IG51bWJlcjtcbn0pOiBQcm9taXNlPEJ1ZmZlcj4ge1xuICBjb25zdCBQREZEb2N1bWVudCA9IChhd2FpdCBpbXBvcnQoXCJwZGZraXRcIikpLmRlZmF1bHQ7XG5cbiAgLy8gUHJvZmVzc2lvbmFsIGxvb2sgJiBmZWVsXG4gIGNvbnN0IGRvYyA9IG5ldyBQREZEb2N1bWVudCh7IHNpemU6IFwiQTRcIiwgbWFyZ2luOiAzNiB9KTsgLy8gfjAuNVwiIG1hcmdpbnNcbiAgY29uc3QgY2h1bmtzOiBCdWZmZXJbXSA9IFtdO1xuICBjb25zdCBwYWdlV2lkdGggPSBkb2MucGFnZS53aWR0aDtcbiAgY29uc3QgbGVmdCA9IDM2O1xuICBjb25zdCByaWdodCA9IHBhZ2VXaWR0aCAtIDM2O1xuXG4gIGNvbnN0IENPTE9SUyA9IHtcbiAgICBhY2NlbnQ6IFwiIzBhNjZjMlwiLFxuICAgIHRleHQ6IFwiIzIyMjIyMlwiLFxuICAgIHN1YnRsZTogXCIjNjY2NjY2XCIsXG4gICAgcnVsZTogXCIjZTBlMGUwXCIsXG4gICAgdGFibGVIZWFkZXJCZzogXCIjZjVmN2ZiXCIsXG4gIH07XG5cbiAgLy8gVXNlIFBERktpdCBjb3JlIGZvbnRzIG9ubHkgKG5vIGZpbGUgcGF0aHMpLiBWYWxpZCBuYW1lczogSGVsdmV0aWNhLCBUaW1lcy1Sb21hbiwgQ291cmllciwgZXRjLlxuICBkb2MuZm9udChcIkhlbHZldGljYVwiKTtcbiAgZG9jLmZpbGxDb2xvcihDT0xPUlMudGV4dCk7XG4gIGRvYy5mb250U2l6ZSgxMCk7XG5cbiAgZG9jLm9uKFwiZGF0YVwiLCAoY2h1bms6IEJ1ZmZlcikgPT4gY2h1bmtzLnB1c2goY2h1bmspKTtcbiAgY29uc3QgZW5kUHJvbWlzZSA9IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiBkb2Mub24oXCJlbmRcIiwgKCkgPT4gcmVzb2x2ZSgpKSk7XG5cbiAgLy8gSGVhZGVyOiB0aXRsZSBiYXJcbiAgY29uc3QgdGl0bGVCYXJZID0gZG9jLnk7XG4gIGRvYy5yZWN0KGxlZnQsIHRpdGxlQmFyWSwgcmlnaHQgLSBsZWZ0LCAyNCkuZmlsbChDT0xPUlMudGFibGVIZWFkZXJCZyk7XG4gIGRvYy5maWxsQ29sb3IoQ09MT1JTLmFjY2VudCk7XG4gIGRvYy5mb250KFwiSGVsdmV0aWNhXCIpLmZvbnRTaXplKDE1KS50ZXh0KFwiRGlzcGF0Y2ggTm90ZVwiLCBsZWZ0ICsgOCwgdGl0bGVCYXJZICsgNik7XG4gIGRvYy5maWxsQ29sb3IoQ09MT1JTLnRleHQpO1xuXG4gIC8vIENvbXBhbnkgKGxlZnQpIGFuZCBNZXRhIChyaWdodCkgY29sdW1ucyBXSVRIT1VUIGEgZGl2aWRlciB5ZXRcbiAgZG9jLm1vdmVEb3duKDAuOCk7XG4gIGNvbnN0IGNvbFRvcFkgPSBkb2MueTtcbiAgY29uc3QgbGVmdENvbFcgPSAzMDA7XG4gIGNvbnN0IHJpZ2h0Q29sVyA9IHJpZ2h0IC0gKGxlZnQgKyBsZWZ0Q29sVyk7XG5cbiAgLy8gQ29tcGFueSBpbmZvIC0gc2xpZ2h0bHkgc21hbGxlciB0byBhdm9pZCBjcm93ZGluZ1xuICBsZXQgY29tcGFueUVuZFkgPSBjb2xUb3BZO1xuICBpZiAoY29tcGFueVNldHRpbmdzKSB7XG4gICAgZG9jLmZvbnQoXCJIZWx2ZXRpY2FcIikuZm9udFNpemUoMTIpLnRleHQoY29tcGFueVNldHRpbmdzLmNvbXBhbnlfdGl0bGUgfHwgXCJTNEQgTGltaXRlZFwiLCBsZWZ0LCBjb21wYW55RW5kWSwgeyB3aWR0aDogbGVmdENvbFcgfSk7XG4gICAgZG9jLmZvbnQoXCJIZWx2ZXRpY2FcIikuZm9udFNpemUoOSkuZmlsbENvbG9yKENPTE9SUy5zdWJ0bGUpO1xuICAgIGNvbXBhbnlFbmRZID0gZG9jLnk7XG4gICAgaWYgKGNvbXBhbnlTZXR0aW5ncy5hZGRyZXNzKSBkb2MudGV4dChjb21wYW55U2V0dGluZ3MuYWRkcmVzcywgbGVmdCwgY29tcGFueUVuZFksIHsgd2lkdGg6IGxlZnRDb2xXIH0pO1xuICAgIGlmIChbY29tcGFueVNldHRpbmdzLmNpdHksIGNvbXBhbnlTZXR0aW5ncy5jb3VudHJ5XS5zb21lKEJvb2xlYW4pKSB7XG4gICAgICBkb2MudGV4dChbY29tcGFueVNldHRpbmdzLmNpdHksIGNvbXBhbnlTZXR0aW5ncy5jb3VudHJ5XS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiwgXCIpLCB7IHdpZHRoOiBsZWZ0Q29sVyB9KTtcbiAgICB9XG4gICAgaWYgKGNvbXBhbnlTZXR0aW5ncy5wb3N0Y29kZSkgZG9jLnRleHQoY29tcGFueVNldHRpbmdzLnBvc3Rjb2RlLCB7IHdpZHRoOiBsZWZ0Q29sVyB9KTtcbiAgICBpZiAoY29tcGFueVNldHRpbmdzLnBob25lKSBkb2MudGV4dChgT2ZmaWNlOiAke2NvbXBhbnlTZXR0aW5ncy5waG9uZX1gLCB7IHdpZHRoOiBsZWZ0Q29sVyB9KTtcbiAgICBpZiAoY29tcGFueVNldHRpbmdzLmVtYWlsKSBkb2MudGV4dChjb21wYW55U2V0dGluZ3MuZW1haWwsIHsgd2lkdGg6IGxlZnRDb2xXIH0pO1xuICAgIGRvYy50ZXh0KFwid3d3LnM0ZGx0ZC5jb21cIiwgeyB3aWR0aDogbGVmdENvbFcgfSk7XG4gICAgY29tcGFueUVuZFkgPSBkb2MueTsgLy8gZW5zdXJlIGVuZCBZIGlzIGFmdGVyIFVSTFxuICB9XG5cbiAgLy8gRGlzcGF0Y2ggbWV0YSAocmlnaHQpIC0gcmlnaHQgYWxpZ25lZCwgYW5jaG9yZWQgYXQgY29sVG9wWVxuICBkb2MuZmlsbENvbG9yKENPTE9SUy50ZXh0KTtcbiAgZG9jLmZvbnQoXCJIZWx2ZXRpY2FcIikuZm9udFNpemUoMTIpO1xuICBkb2MudGV4dChgRGlzcGF0Y2ggIzogSU8tJHtvcmRlcklkfWAsIGxlZnQgKyBsZWZ0Q29sVywgY29sVG9wWSwgeyB3aWR0aDogcmlnaHRDb2xXLCBhbGlnbjogXCJyaWdodFwiIH0pO1xuICBkb2MuZm9udChcIkhlbHZldGljYVwiKS5mb250U2l6ZSgxMCkuZmlsbENvbG9yKENPTE9SUy5zdWJ0bGUpO1xuICBkb2MudGV4dChgRGF0ZTogJHtvcmRlci5kYXRlID8gbmV3IERhdGUob3JkZXIuZGF0ZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCkgOiBcIk4vQVwifWAsIGxlZnQgKyBsZWZ0Q29sVywgZG9jLnksIHtcbiAgICB3aWR0aDogcmlnaHRDb2xXLFxuICAgIGFsaWduOiBcInJpZ2h0XCIsXG4gIH0pO1xuXG4gIC8vIEZvcmNlIHRoZSB5LXBvc2l0aW9uIGJlbG93IHRoZSBmdWxsIGNvbXBhbnkgYmxvY2sgKGFmdGVyIFVSTCkgYmVmb3JlIGRyYXdpbmcgZGl2aWRlclxuICBjb25zdCBhZnRlckNvbHVtbnNZID0gTWF0aC5tYXgoZG9jLnksIGNvbXBhbnlFbmRZKTtcbiAgZG9jLnkgPSBhZnRlckNvbHVtbnNZICsgODsgLy8gYWRkIGEgYml0IG1vcmUgc3BhY2luZyB0byBlbnN1cmUgaXQncyBjbGVhcmx5IGJlbG93XG4gIGRvYy5zdHJva2VDb2xvcihDT0xPUlMucnVsZSkubW92ZVRvKGxlZnQsIGRvYy55KS5saW5lVG8ocmlnaHQsIGRvYy55KS5zdHJva2UoKTtcblxuICAvLyBDdXN0b21lciBzZWN0aW9uOiByaWdodC1qdXN0aWZpZWQgQUREUkVTUyBPTkxZOyBtZXRhIHN0YXlzIGxlZnQtYWxpZ25lZCB1bmRlciB0aGUgbGluZVxuICBkb2MubW92ZURvd24oMC42KTtcbiAgLy8gTW92ZSBqdXN0IHRoZSBcIkN1c3RvbWVyXCIgbGFiZWwgdG8gdGhlIHJpZ2h0IHNvIGl0IHNpdHMgYWJvdmUgdGhlIHJpZ2h0LWp1c3RpZmllZCBhZGRyZXNzXG4gIGRvYy5mb250KFwiSGVsdmV0aWNhLUJvbGRcIikuZm9udFNpemUoMTEpLmZpbGxDb2xvcihDT0xPUlMudGV4dClcbiAgICAgLnRleHQoXCJDdXN0b21lclwiLCBsZWZ0ICsgbGVmdENvbFcsIGRvYy55LCB7IHdpZHRoOiByaWdodCAtIChsZWZ0ICsgbGVmdENvbFcpLCBhbGlnbjogXCJyaWdodFwiIH0pO1xuICBkb2MubW92ZURvd24oMC4yKTtcblxuICBpZiAoY3VzdG9tZXIpIHtcbiAgICBkb2MuZm9udChcIkhlbHZldGljYVwiKS5mb250U2l6ZSgxMCkuZmlsbENvbG9yKENPTE9SUy50ZXh0KTtcbiAgICBjb25zdCBhZGRyZXNzTGluZXM6IHN0cmluZ1tdID0gW107XG4gICAgaWYgKGN1c3RvbWVyLm5hbWUpIGFkZHJlc3NMaW5lcy5wdXNoKFN0cmluZyhjdXN0b21lci5uYW1lKSk7XG4gICAgaWYgKGN1c3RvbWVyLmFkZHJlc3MpIGFkZHJlc3NMaW5lcy5wdXNoKFN0cmluZyhjdXN0b21lci5hZGRyZXNzKSk7XG4gICAgaWYgKGN1c3RvbWVyLmFkZHJlc3MyKSBhZGRyZXNzTGluZXMucHVzaChTdHJpbmcoY3VzdG9tZXIuYWRkcmVzczIpKTtcbiAgICBjb25zdCBjaXR5Q291bnRyeSA9IFtjdXN0b21lci5jaXR5LCBjdXN0b21lci5jb3VudHJ5XS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiwgXCIpO1xuICAgIGlmIChjaXR5Q291bnRyeSkgYWRkcmVzc0xpbmVzLnB1c2goY2l0eUNvdW50cnkpO1xuICAgIGlmIChjdXN0b21lci5wb3N0Y29kZSkgYWRkcmVzc0xpbmVzLnB1c2goU3RyaW5nKGN1c3RvbWVyLnBvc3Rjb2RlKSk7XG4gICAgaWYgKGN1c3RvbWVyLnBob25lKSBhZGRyZXNzTGluZXMucHVzaChTdHJpbmcoY3VzdG9tZXIucGhvbmUpKTtcbiAgICBpZiAoY3VzdG9tZXIuZW1haWwpIGFkZHJlc3NMaW5lcy5wdXNoKFN0cmluZyhjdXN0b21lci5lbWFpbCkpO1xuXG4gICAgLy8gUmlnaHQtanVzdGlmeSBvbmx5IHRoZSBhZGRyZXNzIGJsb2NrIG9uIHRoZSByaWdodCBoYWxmXG4gICAgY29uc3QgcGFkID0gNjtcbiAgICBjb25zdCBhZGRyWCA9IGxlZnQgKyBsZWZ0Q29sVyArIHBhZDtcbiAgICBjb25zdCBhZGRyVyA9IHJpZ2h0IC0gYWRkclggLSBwYWQ7XG5cbiAgICAvLyBUb3AgZmFpbnQgcnVsZSB0byB2aXN1YWxseSBjb250YWluIHRoaXMgYmxvY2tcbiAgICBjb25zdCBzdGFydFkgPSBkb2MueTtcbiAgICBkb2MucmVjdChsZWZ0LCBzdGFydFksIHJpZ2h0IC0gbGVmdCwgMC4xKS5maWxsKENPTE9SUy5ydWxlKTtcbiAgICBkb2MuZmlsbENvbG9yKENPTE9SUy50ZXh0KTtcbiAgICBkb2MubW92ZURvd24oMC4yKTtcblxuICAgIGFkZHJlc3NMaW5lcy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICBkb2MudGV4dCh0LCBhZGRyWCwgZG9jLnkgKyAyLCB7IHdpZHRoOiBhZGRyVywgYWxpZ246IFwicmlnaHRcIiB9KTtcbiAgICB9KTtcblxuICAgIC8vIExlZnQtYWxpZ25lZCBtZXRhIGxpc3QgdW5kZXIgdGhlIGRpdmlkZXIsIG9uIHRoZSBMRUZUIHNpZGVcbiAgICBkb2MubW92ZURvd24oMC40KTtcbiAgICBjb25zdCBtZXRhU3RhcnRZID0gTWF0aC5tYXgoZG9jLnksIHN0YXJ0WSk7XG4gICAgZG9jLnkgPSBtZXRhU3RhcnRZO1xuXG4gICAgY29uc3QgbWV0YVBhaXJzOiBbc3RyaW5nLCBzdHJpbmddW10gPSBbXG4gICAgICBbXCJDdXN0b21lciBSZWZcIiwgb3JkZXIuY3VzdG9tZXJfcmVmIHx8IFwiTi9BXCJdLFxuICAgICAgW1wiQ291cmllclwiLCBvcmRlci5kZWxpdmVyeV9jb21wYW55IHx8IFwiTi9BXCJdLFxuICAgICAgW1wiVHJhY2tpbmcgTm9cIiwgb3JkZXIudHJhY2tpbmdfbm8gfHwgXCJOL0FcIl0sXG4gICAgICBbXCJQTyBSZWZlcmVuY2VcIiwgb3JkZXIucG9fYm94IHx8IFwiTi9BXCJdLFxuICAgICAgW1xuICAgICAgICBcIlRvdGFsc1wiLFxuICAgICAgICBgQm94ZXM6ICR7b3JkZXIudG90YWxfYm94ZXMgIT0gbnVsbCA/IFN0cmluZyhvcmRlci50b3RhbF9ib3hlcykgOiBcIk4vQVwifSAgfCAgUGFsbGV0czogJHtcbiAgICAgICAgICBvcmRlci50b3RhbF9wYWxsZXRzICE9IG51bGwgPyBTdHJpbmcob3JkZXIudG90YWxfcGFsbGV0cykgOiBcIk4vQVwiXG4gICAgICAgIH1gLFxuICAgICAgXSxcbiAgICBdO1xuXG4gICAgY29uc3QgbGFiZWxXID0gMTAwO1xuICAgIGNvbnN0IG1ldGFYID0gbGVmdCArIHBhZDtcbiAgICBjb25zdCBtZXRhVyA9IChsZWZ0ICsgbGVmdENvbFcpIC0gbWV0YVggLSBwYWQ7XG5cbiAgICBtZXRhUGFpcnMuZm9yRWFjaCgoW2ssIHZdKSA9PiB7XG4gICAgICBkb2MuZm9udChcIkhlbHZldGljYS1Cb2xkXCIpLmZpbGxDb2xvcihDT0xPUlMudGV4dCkudGV4dChgJHtrfTpgLCBtZXRhWCwgZG9jLnksIHsgd2lkdGg6IGxhYmVsVyB9KTtcbiAgICAgIGRvYy5mb250KFwiSGVsdmV0aWNhXCIpLmZpbGxDb2xvcihDT0xPUlMuc3VidGxlKS50ZXh0KHYsIG1ldGFYICsgbGFiZWxXICsgNiwgZG9jLnkgLSAxMiwgeyB3aWR0aDogbWV0YVcgLSBsYWJlbFcgLSA2IH0pO1xuICAgICAgZG9jLmZpbGxDb2xvcihDT0xPUlMudGV4dCk7XG4gICAgICBkb2MubW92ZURvd24oMC4yKTtcbiAgICB9KTtcblxuICAgIC8vIEJvdHRvbSBydWxlIGZvciB0aGUgd2hvbGUgY3VzdG9tZXIgYmxvY2tcbiAgICBkb2MubW92ZURvd24oMC4yKTtcbiAgICBkb2Muc3Ryb2tlQ29sb3IoQ09MT1JTLnJ1bGUpLm1vdmVUbyhsZWZ0LCBkb2MueSArIDIpLmxpbmVUbyhyaWdodCwgZG9jLnkgKyAyKS5zdHJva2UoKTtcbiAgICBkb2MubW92ZURvd24oMC42KTtcbiAgfSBlbHNlIHtcbiAgICBkb2MuZm9udChcIkhlbHZldGljYS1PYmxpcXVlXCIpLmZvbnRTaXplKDEwKS5maWxsQ29sb3IoQ09MT1JTLnN1YnRsZSlcbiAgICAgICAudGV4dChcIk4vQVwiLCBsZWZ0ICsgbGVmdENvbFcsIGRvYy55LCB7IHdpZHRoOiByaWdodENvbFcsIGFsaWduOiBcInJpZ2h0XCIgfSk7XG4gIH1cblxuICAvLyBJdGVtcyB0YWJsZVxuICAvLyBIZWFkZXIgcm93XG4gIGRvYy5yZWN0KGxlZnQsIGRvYy55LCByaWdodCAtIGxlZnQsIDIwKS5maWxsKENPTE9SUy50YWJsZUhlYWRlckJnKTtcbiAgZG9jLmZpbGxDb2xvcihDT0xPUlMudGV4dCkuZm9udChcIkhlbHZldGljYS1Cb2xkXCIpLmZvbnRTaXplKDEwKTtcbiAgY29uc3QgZGVzY1ggPSBsZWZ0ICsgODtcbiAgY29uc3QgcXR5WCA9IHJpZ2h0IC0gNDA7XG4gIGNvbnN0IGhlYWRlclkgPSBkb2MueSArIDQ7XG4gIGRvYy50ZXh0KFwiRGVzY3JpcHRpb25cIiwgZGVzY1gsIGhlYWRlclksIHsgd2lkdGg6IHF0eVggLSBkZXNjWCAtIDggfSk7XG4gIGRvYy50ZXh0KFwiUXR5XCIsIHF0eVgsIGhlYWRlclksIHsgd2lkdGg6IDMyLCBhbGlnbjogXCJyaWdodFwiIH0pO1xuICBkb2MubW92ZURvd24oMS4yKTtcbiAgZG9jLmZvbnQoXCJIZWx2ZXRpY2FcIikuZm9udFNpemUoMTApLmZpbGxDb2xvcihDT0xPUlMudGV4dCk7XG5cbiAgLy8gUm93cyB3aXRoIGxpZ2h0IGhvcml6b250YWwgbGluZXNcbiAgT2JqZWN0LnZhbHVlcyhncm91cGVkRGV2aWNlcykuZm9yRWFjaCgoZCkgPT4ge1xuICAgIGNvbnN0IGRlc2MgPVxuICAgICAgYCR7ZC5icmFuZH0gJHtkLmRldGFpbHN9ICR7ZC5jb2xvcn1gICtcbiAgICAgIGAke2QuZ2IgPyBcIiBcIiArIGQuZ2IgKyBcIkdCXCIgOiBcIlwifWAgK1xuICAgICAgYCR7ZC5ncmFkZSAmJiBkLmdyYWRlICE9PSBcIk4vQVwiID8gXCIgR3JhZGUgXCIgKyBkLmdyYWRlIDogXCJcIn1gO1xuXG4gICAgY29uc3Qgcm93WSA9IGRvYy55ICsgNDtcbiAgICBkb2MudGV4dChkZXNjLCBkZXNjWCwgcm93WSwgeyB3aWR0aDogcXR5WCAtIGRlc2NYIC0gOCB9KTtcbiAgICBjb25zdCBhZnRlckRlc2NZID0gZG9jLnk7XG4gICAgZG9jLnRleHQoU3RyaW5nKGQuY291bnQpLCBxdHlYLCByb3dZLCB7IHdpZHRoOiAzMiwgYWxpZ246IFwicmlnaHRcIiB9KTtcbiAgICBjb25zdCBhZnRlclF0eVkgPSBkb2MueTtcblxuICAgIGNvbnN0IHJvd0JvdHRvbSA9IE1hdGgubWF4KGFmdGVyRGVzY1ksIGFmdGVyUXR5WSkgKyA2O1xuICAgIGRvYy5zdHJva2VDb2xvcihDT0xPUlMucnVsZSkubW92ZVRvKGxlZnQsIHJvd0JvdHRvbSkubGluZVRvKHJpZ2h0LCByb3dCb3R0b20pLnN0cm9rZSgpO1xuICAgIGRvYy55ID0gcm93Qm90dG9tO1xuICB9KTtcblxuICAvLyBUb3RhbCByb3dcbiAgZG9jLm1vdmVEb3duKDAuNCk7XG4gIGRvYy5mb250KFwiSGVsdmV0aWNhLUJvbGRcIikuZmlsbENvbG9yKENPTE9SUy50ZXh0KTtcbiAgZG9jLnRleHQoXCJUb3RhbFwiLCBkZXNjWCwgZG9jLnksIHsgd2lkdGg6IHF0eVggLSBkZXNjWCAtIDggfSk7XG4gIGRvYy50ZXh0KFN0cmluZyh0b3RhbENvdW50KSwgcXR5WCwgZG9jLnkgLSAxMiwgeyB3aWR0aDogMzIsIGFsaWduOiBcInJpZ2h0XCIgfSk7XG4gIGRvYy5tb3ZlRG93bigwLjYpO1xuXG4gIC8vIFNpZ25hdHVyZSBzZWN0aW9uXG4gIGNvbnN0IGRyYXdTaWcgPSAobGFiZWw6IHN0cmluZykgPT4ge1xuICAgIGRvYy5mb250KFwiSGVsdmV0aWNhXCIpLmZvbnRTaXplKDEwKS5maWxsQ29sb3IoQ09MT1JTLnRleHQpLnRleHQobGFiZWwsIGxlZnQsIGRvYy55ICsgNik7XG4gICAgY29uc3QgeSA9IGRvYy55ICsgMTA7XG4gICAgZG9jLnN0cm9rZUNvbG9yKFwiIzAwMFwiKS5tb3ZlVG8obGVmdCArIDEyMCwgeSkubGluZVRvKHJpZ2h0IC0gMTUwLCB5KS5zdHJva2UoKTtcbiAgICBkb2MubW92ZURvd24oMC42KTtcbiAgfTtcbiAgZHJhd1NpZyhcIkRpc3BhdGNoZWQgYnk6XCIpO1xuICBkcmF3U2lnKFwiUmVjZWl2ZWQgYnkgU2lnbmF0dXJlOlwiKTtcbiAgZHJhd1NpZyhcIlJlY2VpdmVkIGJ5IFByaW50OlwiKTtcblxuICAvLyBGb290ZXIgbm90ZXNcbiAgZG9jLm1vdmVEb3duKDAuOCk7XG4gIGRvYy5mb250KFwiSGVsdmV0aWNhLUJvbGRcIikuZm9udFNpemUoOSkuZmlsbENvbG9yKENPTE9SUy50ZXh0KS50ZXh0KFxuICAgIFwiQU5ZIERJU0NSRVBBTkNJRVMgTVVTVCBCRSBSRVBPUlRFRCBXSVRISU4gNDggSE9VUlMgT0YgREVMSVZFUllcIixcbiAgICB7IGFsaWduOiBcImNlbnRlclwiIH1cbiAgKTtcbiAgZG9jLm1vdmVEb3duKDAuMik7XG4gIGRvYy5mb250KFwiSGVsdmV0aWNhXCIpLmZvbnRTaXplKDcpLmZpbGxDb2xvcihcIiM3Nzc3NzdcIikudGV4dChcbiAgICBcIkNvbmZpZGVudGlhbGl0eSBOb3RpY2U6IFRoaXMgZG9jdW1lbnQgaGFzIGJlZW4gc2VudCBieSBTNEQgTGltaXRlZCAocmVnaXN0ZXJlZCBpbiBFbmdsYW5kIGFuZCBXYWxlcyB3aXRoIG51bWJlciA5MzQyMDEyKS4gXCIgK1xuICAgICAgXCJSZWdpc3RlcmVkIG9mZmljZTogRWJlbmV6ZXIgSG91c2UsIFJ5ZWNyb2Z0LCBOZXdjYXN0bGUgVW5kZXIgTHltZSwgU3RhZmZvcmRzaGlyZSwgU1Q1IDJCRS4gVGhpcyBkb2N1bWVudCBpcyBjb25maWRlbnRpYWwgYW5kIGludGVuZGVkIGZvciB0aGUgdXNlIG9mIHRoZSBuYW1lZCByZWNpcGllbnQgb25seS4gXCIgK1xuICAgICAgXCJJZiB5b3UgYXJlIG5vdCB0aGUgaW50ZW5kZWQgcmVjaXBpZW50LCBwbGVhc2Ugbm90aWZ5IHVzIGltbWVkaWF0ZWx5LiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgZG9jdW1lbnQgYW5kIGFueSBhdHRhY2htZW50cyBoYXZlIG5vdCBiZWVuIGVuY3J5cHRlZC4gXCIgK1xuICAgICAgXCJUaGV5IG1heSwgdGhlcmVmb3JlLCBiZSBsaWFibGUgdG8gYmUgY29tcHJvbWlzZWQuIFBsZWFzZSBhbHNvIG5vdGUgdGhhdCBpdCBpcyB5b3VyIHJlc3BvbnNpYmlsaXR5IHRvIHNjYW4gdGhpcyBkb2N1bWVudCBhbmQgYW55IGF0dGFjaG1lbnRzIGZvciB2aXJ1c2VzLlwiLFxuICAgIHsgYWxpZ246IFwibGVmdFwiIH1cbiAgKTtcblxuICBkb2MuZW5kKCk7XG4gIGF3YWl0IGVuZFByb21pc2U7XG4gIHJldHVybiBCdWZmZXIuY29uY2F0KGNodW5rcyk7XG59XG5cbi8qKlxuICogU2VuZCB0aGUgZ2VuZXJhdGVkIGRpc3BhdGNoIG5vdGUgUERGIHZpYSBTTVRQIChNYWlsdHJhcCkgdG8gYSBkZWZhdWx0IHJlY2lwaWVudC5cbiAqIFRoaXMgaXMgYmVzdC1lZmZvcnQ7IGZhaWx1cmVzIGFyZSBsb2dnZWQgYnV0IGRvIG5vdCBibG9jayB0aGUgQVBJIHJlc3BvbnNlLlxuICovXG5hc3luYyBmdW5jdGlvbiBlbWFpbERpc3BhdGNoTm90ZShcbiAgcGRmOiBCdWZmZXIsXG4gIHtcbiAgICBvcmRlcklkLFxuICAgIGN1c3RvbWVyTmFtZSxcbiAgICBjdXN0b21lckVtYWlsLFxuICAgIGNvbXBhbnlUaXRsZSxcbiAgfTogeyBvcmRlcklkOiBudW1iZXI7IGN1c3RvbWVyTmFtZT86IHN0cmluZyB8IG51bGw7IGN1c3RvbWVyRW1haWw/OiBzdHJpbmcgfCBudWxsOyBjb21wYW55VGl0bGU/OiBzdHJpbmcgfCBudWxsIH1cbikge1xuICAvLyBSZWFkIFNNVFAgY29uZmlnIGZyb20gZW52IHdpdGggc2FmZSBmYWxsYmFja3MgcGVyIHVzZXIncyBwcm92aWRlZCBkZXRhaWxzLlxuICBjb25zdCBob3N0ID0gcHJvY2Vzcy5lbnYuTUFJTFRSQVBfSE9TVCB8fCBcImxpdmUuc210cC5tYWlsdHJhcC5pb1wiO1xuICBjb25zdCBwb3J0ID0gTnVtYmVyKHByb2Nlc3MuZW52Lk1BSUxUUkFQX1BPUlQgfHwgMjUyNSk7XG4gIGNvbnN0IHNlY3VyZSA9IGZhbHNlOyAvLyBNYWlsdHJhcCB3b3JrcyBvbiBTVEFSVFRMUyBmb3IgMjUyNSB0eXBpY2FsbHlcbiAgY29uc3QgdXNlciA9IHByb2Nlc3MuZW52Lk1BSUxUUkFQX1VTRVIgfHwgXCJhcGlcIjtcbiAgY29uc3QgcGFzcyA9IHByb2Nlc3MuZW52Lk1BSUxUUkFQX1BBU1MgfHwgXCIzN2RlMDU5MjYxNjA2NWQyNmNkNjczMTJjZjE5YjIzNlwiO1xuXG4gIGNvbnN0IGZyb20gPSBwcm9jZXNzLmVudi5NQUlMX0ZST00gfHwgXCJ3YXJlaG91c2VAcXVhbnR1bS1jbG91ZC5jby51a1wiO1xuICBjb25zdCB0byA9IHByb2Nlc3MuZW52Lk1BSUxfVE9fREVGQVVMVCB8fCBcInM0ZHBhdWxAbWFpbC5jb21cIjtcbiAgY29uc3QgY2MgPSBwcm9jZXNzLmVudi5NQUlMX0NDIHx8IFwid2FyZWhvdXNlQHM0ZGx0ZC5jb21cIjtcbiAgY29uc3QgcmVwbHlUbyA9IHByb2Nlc3MuZW52Lk1BSUxfUkVQTFlfVE8gfHwgZnJvbTtcblxuICBjb25zdCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgICBob3N0LFxuICAgIHBvcnQsXG4gICAgc2VjdXJlLFxuICAgIGF1dGg6IHsgdXNlciwgcGFzcyB9LFxuICAgIHRsczogeyByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHN1YmplY3QgPSBgRGlzcGF0Y2ggTm90ZSBJTy0ke29yZGVySWR9YDtcbiAgY29uc3QgaHRtbCA9IGBcbiAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBmb250LXNpemU6MTRweDsgY29sb3I6IzIyMlwiPlxuICAgICAgPHA+UGxlYXNlIGZpbmQgYXR0YWNoZWQgdGhlIGRpc3BhdGNoIG5vdGUgZm9yIG9yZGVyIDxzdHJvbmc+SU8tJHtvcmRlcklkfTwvc3Ryb25nPi48L3A+XG4gICAgICAke2NvbXBhbnlUaXRsZSA/IGA8cD5Db21wYW55OiA8c3Ryb25nPiR7Y29tcGFueVRpdGxlfTwvc3Ryb25nPjwvcD5gIDogXCJcIn1cbiAgICAgICR7Y3VzdG9tZXJOYW1lID8gYDxwPkN1c3RvbWVyOiA8c3Ryb25nPiR7Y3VzdG9tZXJOYW1lfTwvc3Ryb25nPjwvcD5gIDogXCJcIn1cbiAgICAgICR7Y3VzdG9tZXJFbWFpbCA/IGA8cD5DdXN0b21lciBFbWFpbDogJHtjdXN0b21lckVtYWlsfTwvcD5gIDogXCJcIn1cbiAgICAgIDxwIHN0eWxlPVwibWFyZ2luLXRvcDoxNnB4O2NvbG9yOiM2NjZcIj5UaGlzIGVtYWlsIHdhcyBzZW50IGF1dG9tYXRpY2FsbHkgYnkgdGhlIFM0RCBzeXN0ZW0uPC9wPlxuICAgIDwvZGl2PlxuICBgO1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwoe1xuICAgICAgZnJvbSxcbiAgICAgIHRvLFxuICAgICAgY2MsXG4gICAgICByZXBseVRvLFxuICAgICAgc3ViamVjdCxcbiAgICAgIGh0bWwsXG4gICAgICB0ZXh0OiBgRGlzcGF0Y2ggbm90ZSBmb3IgSU8tJHtvcmRlcklkfSBhdHRhY2hlZC5gLFxuICAgICAgYXR0YWNobWVudHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGZpbGVuYW1lOiBgZGlzcGF0Y2gtbm90ZS0ke29yZGVySWR9LnBkZmAsXG4gICAgICAgICAgY29udGVudDogcGRmLFxuICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3BkZlwiLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhgW2Rpc3BhdGNoLW5vdGVdIEVtYWlsIHNlbnQgZm9yIElPLSR7b3JkZXJJZH0gdG8gJHt0b30gKGNjOiAke2NjfSlgKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihgW2Rpc3BhdGNoLW5vdGVdIEZhaWxlZCB0byBzZW5kIGVtYWlsIGZvciBJTy0ke29yZGVySWR9OmAsIGVycik7XG4gIH1cbn1cblxuLy8gR0VUIC9hcGkvZ29vZHMtb3V0L1tpZF0vZGlzcGF0Y2gtbm90ZSAtIEdlbmVyYXRlIGRpc3BhdGNoIG5vdGUgZm9yIGEgZ29vZHMgb3V0IG9yZGVyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKFxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IFByb21pc2U8eyBpZDogc3RyaW5nIH0+IH1cbikge1xuICB0cnkge1xuICAgIGNvbnN0IHsgaWQgfSA9IGF3YWl0IHBhcmFtcztcbiAgICBjb25zdCBvcmRlcklkID0gcGFyc2VJbnQoaWQpO1xuICAgIGlmIChpc05hTihvcmRlcklkKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiSW52YWxpZCBvcmRlciBJRFwiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IGJ1aWxkRGlzcGF0Y2hEYXRhKG9yZGVySWQpO1xuICAgIGNvbnN0IHBkZkJ1ZmZlciA9IGF3YWl0IGNyZWF0ZVBkZkJ1ZmZlcih7IG9yZGVySWQsIC4uLmRhdGEgfSk7XG5cbiAgICAvLyBGaXJlLWFuZC1mb3JnZXQgZW1haWwgKGRvIG5vdCBibG9jayByZXNwb25zZSkuIEF3YWl0IHRvIGVuc3VyZSBlcnJvcnMgYXJlIGNhdWdodCBoZXJlLFxuICAgIC8vIGJ1dCB3ZSB3b24ndCB0aHJvdyBldmVuIGlmIGl0IGZhaWxzOyB0aGUgZG93bmxvYWQgc3RpbGwgcHJvY2VlZHMuXG4gICAgZW1haWxEaXNwYXRjaE5vdGUocGRmQnVmZmVyLCB7XG4gICAgICBvcmRlcklkLFxuICAgICAgY3VzdG9tZXJOYW1lOiBkYXRhLmN1c3RvbWVyPy5uYW1lID8/IG51bGwsXG4gICAgICBjdXN0b21lckVtYWlsOiBkYXRhLmN1c3RvbWVyPy5lbWFpbCA/PyBudWxsLFxuICAgICAgY29tcGFueVRpdGxlOiBkYXRhLmNvbXBhbnlTZXR0aW5ncz8uY29tcGFueV90aXRsZSA/PyBudWxsLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UocGRmQnVmZmVyLCB7XG4gICAgICBzdGF0dXM6IDIwMCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9wZGZcIixcbiAgICAgICAgXCJDb250ZW50LURpc3Bvc2l0aW9uXCI6IGBhdHRhY2htZW50OyBmaWxlbmFtZT1cImRpc3BhdGNoLW5vdGUtJHtvcmRlcklkfS5wZGZcImAsXG4gICAgICAgIFwiQ29udGVudC1MZW5ndGhcIjogU3RyaW5nKHBkZkJ1ZmZlci5sZW5ndGgpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRGlzcGF0Y2ggTm90ZSBHRVQgZXJyb3I6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIGVycm9yOlxuICAgICAgICAgIFwiRmFpbGVkIHRvIGdlbmVyYXRlIGRpc3BhdGNoIG5vdGU6IFwiICtcbiAgICAgICAgICAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIiksXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBhd2FpdCBwcmlzbWEuJGRpc2Nvbm5lY3QoKTtcbiAgfVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJQcmlzbWFDbGllbnQiLCJub2RlbWFpbGVyIiwicHJpc21hIiwiZ3JhZGVUb0xldHRlciIsImciLCJ1bmRlZmluZWQiLCJudW0iLCJOdW1iZXIiLCJpc05hTiIsIlN0cmluZyIsIm1hcCIsImJ1aWxkRGlzcGF0Y2hEYXRhIiwib3JkZXJJZCIsIm9yZGVyIiwidGJsX29yZGVycyIsImZpbmRGaXJzdCIsIndoZXJlIiwib3JkZXJfaWQiLCJFcnJvciIsImN1c3RvbWVyIiwiY3VzdG9tZXJfaWQiLCJ0YmxfY3VzdG9tZXJzIiwiY29tcGFueVNldHRpbmdzIiwidGJsX3NldHRpbmdzIiwiZGV2aWNlcyIsImZpbmRNYW55IiwiaW1laURldGFpbHMiLCJQcm9taXNlIiwiYWxsIiwiZGV2aWNlIiwiaXRlbV9pbWVpIiwiaW1laSIsInRibF9pbWVpIiwidGFjIiwiaXRlbV90YWMiLCJ0YmxfdGFjIiwiYnJhbmRJZHMiLCJBcnJheSIsImZyb20iLCJTZXQiLCJpdGVtX2JyYW5kIiwiZmlsdGVyIiwidiIsImNhdGVnb3J5TWFwIiwiTWFwIiwibGVuZ3RoIiwiY2F0ZWdvcmllcyIsInRibF9jYXRlZ29yaWVzIiwiY2F0ZWdvcnlfaWQiLCJpbiIsImZvckVhY2giLCJjIiwic2V0IiwidGl0bGUiLCJncm91cGVkRGV2aWNlcyIsImJyYW5kQ29kZSIsInJlc29sdmVkQnJhbmQiLCJnZXQiLCJkZXRhaWxzIiwiaXRlbV9kZXRhaWxzIiwiY29sb3IiLCJpdGVtX2NvbG9yIiwiZ2IiLCJpdGVtX2diIiwicmF3R3JhZGUiLCJpdGVtX2dyYWRlIiwibWFwcGVkR3JhZGUiLCJrZXkiLCJicmFuZCIsImdyYWRlIiwiY291bnQiLCJ0b3RhbENvdW50IiwiT2JqZWN0IiwidmFsdWVzIiwicmVkdWNlIiwic3VtIiwiZCIsImNyZWF0ZVBkZkJ1ZmZlciIsIlBERkRvY3VtZW50IiwiZGVmYXVsdCIsImRvYyIsInNpemUiLCJtYXJnaW4iLCJjaHVua3MiLCJwYWdlV2lkdGgiLCJwYWdlIiwid2lkdGgiLCJsZWZ0IiwicmlnaHQiLCJDT0xPUlMiLCJhY2NlbnQiLCJ0ZXh0Iiwic3VidGxlIiwicnVsZSIsInRhYmxlSGVhZGVyQmciLCJmb250IiwiZmlsbENvbG9yIiwiZm9udFNpemUiLCJvbiIsImNodW5rIiwicHVzaCIsImVuZFByb21pc2UiLCJyZXNvbHZlIiwidGl0bGVCYXJZIiwieSIsInJlY3QiLCJmaWxsIiwibW92ZURvd24iLCJjb2xUb3BZIiwibGVmdENvbFciLCJyaWdodENvbFciLCJjb21wYW55RW5kWSIsImNvbXBhbnlfdGl0bGUiLCJhZGRyZXNzIiwiY2l0eSIsImNvdW50cnkiLCJzb21lIiwiQm9vbGVhbiIsImpvaW4iLCJwb3N0Y29kZSIsInBob25lIiwiZW1haWwiLCJhbGlnbiIsImRhdGUiLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiYWZ0ZXJDb2x1bW5zWSIsIk1hdGgiLCJtYXgiLCJzdHJva2VDb2xvciIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImFkZHJlc3NMaW5lcyIsIm5hbWUiLCJhZGRyZXNzMiIsImNpdHlDb3VudHJ5IiwicGFkIiwiYWRkclgiLCJhZGRyVyIsInN0YXJ0WSIsInQiLCJtZXRhU3RhcnRZIiwibWV0YVBhaXJzIiwiY3VzdG9tZXJfcmVmIiwiZGVsaXZlcnlfY29tcGFueSIsInRyYWNraW5nX25vIiwicG9fYm94IiwidG90YWxfYm94ZXMiLCJ0b3RhbF9wYWxsZXRzIiwibGFiZWxXIiwibWV0YVgiLCJtZXRhVyIsImsiLCJkZXNjWCIsInF0eVgiLCJoZWFkZXJZIiwiZGVzYyIsInJvd1kiLCJhZnRlckRlc2NZIiwiYWZ0ZXJRdHlZIiwicm93Qm90dG9tIiwiZHJhd1NpZyIsImxhYmVsIiwiZW5kIiwiQnVmZmVyIiwiY29uY2F0IiwiZW1haWxEaXNwYXRjaE5vdGUiLCJwZGYiLCJjdXN0b21lck5hbWUiLCJjdXN0b21lckVtYWlsIiwiY29tcGFueVRpdGxlIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJNQUlMVFJBUF9IT1NUIiwicG9ydCIsIk1BSUxUUkFQX1BPUlQiLCJzZWN1cmUiLCJ1c2VyIiwiTUFJTFRSQVBfVVNFUiIsInBhc3MiLCJNQUlMVFJBUF9QQVNTIiwiTUFJTF9GUk9NIiwidG8iLCJNQUlMX1RPX0RFRkFVTFQiLCJjYyIsIk1BSUxfQ0MiLCJyZXBseVRvIiwiTUFJTF9SRVBMWV9UTyIsInRyYW5zcG9ydGVyIiwiY3JlYXRlVHJhbnNwb3J0IiwiYXV0aCIsInRscyIsInJlamVjdFVuYXV0aG9yaXplZCIsInN1YmplY3QiLCJodG1sIiwic2VuZE1haWwiLCJhdHRhY2htZW50cyIsImZpbGVuYW1lIiwiY29udGVudCIsImNvbnRlbnRUeXBlIiwiY29uc29sZSIsImxvZyIsImVyciIsImVycm9yIiwiR0VUIiwicmVxdWVzdCIsInBhcmFtcyIsImlkIiwicGFyc2VJbnQiLCJqc29uIiwic3RhdHVzIiwiZGF0YSIsInBkZkJ1ZmZlciIsImhlYWRlcnMiLCJtZXNzYWdlIiwiJGRpc2Nvbm5lY3QiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/goods-out/[id]/dispatch-note/route.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgoods-out%2F%5Bid%5D%2Fdispatch-note%2Froute&page=%2Fapi%2Fgoods-out%2F%5Bid%5D%2Fdispatch-note%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgoods-out%2F%5Bid%5D%2Fdispatch-note%2Froute.ts&appDir=%2Fhome%2Fgascat%2Fprismaquant%2Fprisma-quantum%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fgascat%2Fprismaquant%2Fprisma-quantum&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgoods-out%2F%5Bid%5D%2Fdispatch-note%2Froute&page=%2Fapi%2Fgoods-out%2F%5Bid%5D%2Fdispatch-note%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgoods-out%2F%5Bid%5D%2Fdispatch-note%2Froute.ts&appDir=%2Fhome%2Fgascat%2Fprismaquant%2Fprisma-quantum%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fgascat%2Fprismaquant%2Fprisma-quantum&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _home_gascat_prismaquant_prisma_quantum_app_api_goods_out_id_dispatch_note_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./app/api/goods-out/[id]/dispatch-note/route.ts */ \"(rsc)/./app/api/goods-out/[id]/dispatch-note/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/goods-out/[id]/dispatch-note/route\",\n        pathname: \"/api/goods-out/[id]/dispatch-note\",\n        filename: \"route\",\n        bundlePath: \"app/api/goods-out/[id]/dispatch-note/route\"\n    },\n    distDir: \".next\" || 0,\n    projectDir:  false || '',\n    resolvedPagePath: \"/home/gascat/prismaquant/prisma-quantum/app/api/goods-out/[id]/dispatch-note/route.ts\",\n    nextConfigOutput,\n    userland: _home_gascat_prismaquant_prisma_quantum_app_api_goods_out_id_dispatch_note_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/goods-out/[id]/dispatch-note/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = \"false\";\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                dynamicIO: Boolean(nextConfig.experimental.dynamicIO),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZnb29kcy1vdXQlMkYlNUJpZCU1RCUyRmRpc3BhdGNoLW5vdGUlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmdvb2RzLW91dCUyRiU1QmlkJTVEJTJGZGlzcGF0Y2gtbm90ZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmdvb2RzLW91dCUyRiU1QmlkJTVEJTJGZGlzcGF0Y2gtbm90ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGZ2FzY2F0JTJGcHJpc21hcXVhbnQlMkZwcmlzbWEtcXVhbnR1bSUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRmdhc2NhdCUyRnByaXNtYXF1YW50JTJGcHJpc21hLXF1YW50dW0maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QmaXNHbG9iYWxOb3RGb3VuZEVuYWJsZWQ9ISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNkO0FBQ1M7QUFDTztBQUNLO0FBQ21DO0FBQ2pEO0FBQ087QUFDZjtBQUNzQztBQUN6QjtBQUNNO0FBQ0M7QUFDaEI7QUFDZ0Q7QUFDbEg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYSxPQUFv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QUFzQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QywwRkFBcUI7QUFDbEU7QUFDQSxrQkFBa0IsNkVBQVk7QUFDOUI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkVBQTZFLGdGQUFjO0FBQzNGLGlDQUFpQyxRQUFRLEVBQUUsUUFBUTtBQUNuRCwwQkFBMEIsdUVBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJGQUFtQjtBQUNyRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2RUFBWTtBQUMxQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgeyBnZXRSZXF1ZXN0TWV0YSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JlcXVlc3QtbWV0YVwiO1xuaW1wb3J0IHsgZ2V0VHJhY2VyLCBTcGFuS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS90cmFjZXJcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZUFwcFBhdGggfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2FwcC1wYXRoc1wiO1xuaW1wb3J0IHsgTm9kZU5leHRSZXF1ZXN0LCBOb2RlTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYmFzZS1odHRwL25vZGVcIjtcbmltcG9ydCB7IE5leHRSZXF1ZXN0QWRhcHRlciwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9uZXh0LXJlcXVlc3RcIjtcbmltcG9ydCB7IEJhc2VTZXJ2ZXJTcGFuIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgZ2V0UmV2YWxpZGF0ZVJlYXNvbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2luc3RydW1lbnRhdGlvbi91dGlsc1wiO1xuaW1wb3J0IHsgc2VuZFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvc2VuZC1yZXNwb25zZVwiO1xuaW1wb3J0IHsgZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzLCB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRDYWNoZUNvbnRyb2xIZWFkZXIgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvY2FjaGUtY29udHJvbFwiO1xuaW1wb3J0IHsgSU5GSU5JVEVfQ0FDSEUsIE5FWFRfQ0FDSEVfVEFHU19IRUFERVIgfSBmcm9tIFwibmV4dC9kaXN0L2xpYi9jb25zdGFudHNcIjtcbmltcG9ydCB7IE5vRmFsbGJhY2tFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9uby1mYWxsYmFjay1lcnJvci5leHRlcm5hbFwiO1xuaW1wb3J0IHsgQ2FjaGVkUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVzcG9uc2UtY2FjaGVcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvaG9tZS9nYXNjYXQvcHJpc21hcXVhbnQvcHJpc21hLXF1YW50dW0vYXBwL2FwaS9nb29kcy1vdXQvW2lkXS9kaXNwYXRjaC1ub3RlL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nb29kcy1vdXQvW2lkXS9kaXNwYXRjaC1ub3RlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ29vZHMtb3V0L1tpZF0vZGlzcGF0Y2gtbm90ZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZ29vZHMtb3V0L1tpZF0vZGlzcGF0Y2gtbm90ZS9yb3V0ZVwiXG4gICAgfSxcbiAgICBkaXN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfRElTVF9ESVIgfHwgJycsXG4gICAgcHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnLFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL2hvbWUvZ2FzY2F0L3ByaXNtYXF1YW50L3ByaXNtYS1xdWFudHVtL2FwcC9hcGkvZ29vZHMtb3V0L1tpZF0vZGlzcGF0Y2gtbm90ZS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzLCBjdHgpIHtcbiAgICB2YXIgX25leHRDb25maWdfZXhwZXJpbWVudGFsO1xuICAgIGxldCBzcmNQYWdlID0gXCIvYXBpL2dvb2RzLW91dC9baWRdL2Rpc3BhdGNoLW5vdGUvcm91dGVcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfSBlbHNlIGlmIChzcmNQYWdlID09PSAnL2luZGV4Jykge1xuICAgICAgICAvLyB3ZSBhbHdheXMgbm9ybWFsaXplIC9pbmRleCBzcGVjaWZpY2FsbHlcbiAgICAgICAgc3JjUGFnZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgbXVsdGlab25lRHJhZnRNb2RlID0gcHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERTtcbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gYXdhaXQgcm91dGVNb2R1bGUucHJlcGFyZShyZXEsIHJlcywge1xuICAgICAgICBzcmNQYWdlLFxuICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGVcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgYnVpbGRJZCwgcGFyYW1zLCBuZXh0Q29uZmlnLCBpc0RyYWZ0TW9kZSwgcHJlcmVuZGVyTWFuaWZlc3QsIHJvdXRlclNlcnZlckNvbnRleHQsIGlzT25EZW1hbmRSZXZhbGlkYXRlLCByZXZhbGlkYXRlT25seUdlbmVyYXRlZCwgcmVzb2x2ZWRQYXRobmFtZSB9ID0gcHJlcGFyZVJlc3VsdDtcbiAgICBjb25zdCBub3JtYWxpemVkU3JjUGFnZSA9IG5vcm1hbGl6ZUFwcFBhdGgoc3JjUGFnZSk7XG4gICAgbGV0IGlzSXNyID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXSB8fCBwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgIGlmIChpc0lzciAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY29uc3QgaXNQcmVyZW5kZXJlZCA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICAgICAgY29uc3QgcHJlcmVuZGVySW5mbyA9IHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdO1xuICAgICAgICBpZiAocHJlcmVuZGVySW5mbykge1xuICAgICAgICAgICAgaWYgKHByZXJlbmRlckluZm8uZmFsbGJhY2sgPT09IGZhbHNlICYmICFpc1ByZXJlbmRlcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vRmFsbGJhY2tFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBjYWNoZUtleSA9IG51bGw7XG4gICAgaWYgKGlzSXNyICYmICFyb3V0ZU1vZHVsZS5pc0RldiAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY2FjaGVLZXkgPSByZXNvbHZlZFBhdGhuYW1lO1xuICAgICAgICAvLyBlbnN1cmUgL2luZGV4IGFuZCAvIGlzIG5vcm1hbGl6ZWQgdG8gb25lIGtleVxuICAgICAgICBjYWNoZUtleSA9IGNhY2hlS2V5ID09PSAnL2luZGV4JyA/ICcvJyA6IGNhY2hlS2V5O1xuICAgIH1cbiAgICBjb25zdCBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSA9IC8vIElmIHdlJ3JlIGluIGRldmVsb3BtZW50LCB3ZSBhbHdheXMgc3VwcG9ydCBkeW5hbWljIEhUTUxcbiAgICByb3V0ZU1vZHVsZS5pc0RldiA9PT0gdHJ1ZSB8fCAvLyBJZiB0aGlzIGlzIG5vdCBTU0cgb3IgZG9lcyBub3QgaGF2ZSBzdGF0aWMgcGF0aHMsIHRoZW4gaXQgc3VwcG9ydHNcbiAgICAvLyBkeW5hbWljIEhUTUwuXG4gICAgIWlzSXNyO1xuICAgIC8vIFRoaXMgaXMgYSByZXZhbGlkYXRpb24gcmVxdWVzdCBpZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWNcbiAgICAvLyBwYWdlIGFuZCBpdCBpcyBub3QgYmVpbmcgcmVzdW1lZCBmcm9tIGEgcG9zdHBvbmVkIHJlbmRlciBhbmRcbiAgICAvLyBpdCBpcyBub3QgYSBkeW5hbWljIFJTQyByZXF1ZXN0IHRoZW4gaXQgaXMgYSByZXZhbGlkYXRpb25cbiAgICAvLyByZXF1ZXN0LlxuICAgIGNvbnN0IGlzUmV2YWxpZGF0ZSA9IGlzSXNyICYmICFzdXBwb3J0c0R5bmFtaWNSZXNwb25zZTtcbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kIHx8ICdHRVQnO1xuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgcmVuZGVyT3B0czoge1xuICAgICAgICAgICAgZXhwZXJpbWVudGFsOiB7XG4gICAgICAgICAgICAgICAgZHluYW1pY0lPOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmR5bmFtaWNJTyksXG4gICAgICAgICAgICAgICAgYXV0aEludGVycnVwdHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuYXV0aEludGVycnVwdHMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UsXG4gICAgICAgICAgICBpbmNyZW1lbnRhbENhY2hlOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdpbmNyZW1lbnRhbENhY2hlJyksXG4gICAgICAgICAgICBjYWNoZUxpZmVQcm9maWxlczogKF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbCA9IG5leHRDb25maWcuZXhwZXJpbWVudGFsKSA9PSBudWxsID8gdm9pZCAwIDogX25leHRDb25maWdfZXhwZXJpbWVudGFsLmNhY2hlTGlmZSxcbiAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbCxcbiAgICAgICAgICAgIG9uQ2xvc2U6IChjYik9PntcbiAgICAgICAgICAgICAgICByZXMub24oJ2Nsb3NlJywgY2IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQWZ0ZXJUYXNrRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9uSW5zdHJ1bWVudGF0aW9uUmVxdWVzdEVycm9yOiAoZXJyb3IsIF9yZXF1ZXN0LCBlcnJvckNvbnRleHQpPT5yb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVycm9yLCBlcnJvckNvbnRleHQsIHJvdXRlclNlcnZlckNvbnRleHQpXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXJlZENvbnRleHQ6IHtcbiAgICAgICAgICAgIGJ1aWxkSWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9kZU5leHRSZXEgPSBuZXcgTm9kZU5leHRSZXF1ZXN0KHJlcSk7XG4gICAgY29uc3Qgbm9kZU5leHRSZXMgPSBuZXcgTm9kZU5leHRSZXNwb25zZShyZXMpO1xuICAgIGNvbnN0IG5leHRSZXEgPSBOZXh0UmVxdWVzdEFkYXB0ZXIuZnJvbU5vZGVOZXh0UmVxdWVzdChub2RlTmV4dFJlcSwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZShyZXMpKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbnZva2VSb3V0ZU1vZHVsZSA9IGFzeW5jIChzcGFuKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlTW9kdWxlLmhhbmRsZShuZXh0UmVxLCBjb250ZXh0KS5maW5hbGx5KCgpPT57XG4gICAgICAgICAgICAgICAgaWYgKCFzcGFuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHAuc3RhdHVzX2NvZGUnOiByZXMuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgJ25leHQucnNjJzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByb290U3BhbkF0dHJpYnV0ZXMgPSB0cmFjZXIuZ2V0Um9vdFNwYW5BdHRyaWJ1dGVzKCk7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGF0dHJpYnV0ZXMsIHByb2JhYmx5IE9URUwgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3RTcGFuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpICE9PSBCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5leHBlY3RlZCByb290IHNwYW4gdHlwZSAnJHtyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpfScuIFBsZWFzZSByZXBvcnQgdGhpcyBOZXh0LmpzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qc2ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5yb3V0ZScpO1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYCR7bWV0aG9kfSAke3JvdXRlfWA7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnNwYW5fbmFtZSc6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUoYCR7bWV0aG9kfSAke3JlcS51cmx9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgKGN1cnJlbnRTcGFuKT0+e1xuICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VHZW5lcmF0b3IgPSBhc3luYyAoeyBwcmV2aW91c0NhY2hlRW50cnkgfSk9PntcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQgJiYgIXByZXZpb3VzQ2FjaGVFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbi1kZW1hbmQgcmV2YWxpZGF0ZSBhbHdheXMgc2V0cyB0aGlzIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCAnUkVWQUxJREFURUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ1RoaXMgcGFnZSBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaW52b2tlUm91dGVNb2R1bGUoY3VycmVudFNwYW4pO1xuICAgICAgICAgICAgICAgICAgICByZXEuZmV0Y2hNZXRyaWNzID0gY29udGV4dC5yZW5kZXJPcHRzLmZldGNoTWV0cmljcztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBlbmRpbmdXYWl0VW50aWwgPSBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB1c2luZyBwcm92aWRlZCB3YWl0VW50aWwgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IHdlIGZhbGxiYWNrIHRvIHNlbmRSZXNwb25zZSdzIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nV2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3R4LndhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC53YWl0VW50aWwocGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dhaXRVbnRpbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZVRhZ3MgPSBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkVGFncztcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljIHJlc3BvbnNlLCB3ZSBjYW4gY2FjaGUgaXQgc28gbG9uZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBpdCdzIG5vdCBlZGdlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJc3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3B5IHRoZSBoZWFkZXJzIGZyb20gdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVUYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXSA9IGNhY2hlVGFncztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGVhZGVyc1snY29udGVudC10eXBlJ10gJiYgYmxvYi50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSBibG9iLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZhbGlkYXRlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA+PSBJTkZJTklURV9DQUNIRSA/IGZhbHNlIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBpcmUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA+PSBJTkZJTklURV9DQUNIRSA/IHVuZGVmaW5lZCA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNhY2hlIGVudHJ5IGZvciB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBCdWZmZXIuZnJvbShhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZUVudHJ5O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VuZCByZXNwb25zZSB3aXRob3V0IGNhY2hpbmcgaWYgbm90IElTUlxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgcmVzcG9uc2UsIGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBiYWNrZ3JvdW5kIHJldmFsaWRhdGUgd2UgbmVlZCB0byByZXBvcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHJlcXVlc3QgZXJyb3IgaGVyZSBhcyBpdCB3b24ndCBiZSBidWJibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpb3VzQ2FjaGVFbnRyeS5pc1N0YWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJvdXRlclNlcnZlckNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IGF3YWl0IHJvdXRlTW9kdWxlLmhhbmRsZVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgbmV4dENvbmZpZyxcbiAgICAgICAgICAgICAgICBjYWNoZUtleSxcbiAgICAgICAgICAgICAgICByb3V0ZUtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgaXNGYWxsYmFjazogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgaXNSb3V0ZVBQUkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yLFxuICAgICAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjcmVhdGUgYSBjYWNoZUVudHJ5IGZvciBJU1JcbiAgICAgICAgICAgIGlmICghaXNJc3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoY2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlLmtpbmQpICE9PSBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlMTtcbiAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhcmlhbnQ6IGFwcC1yb3V0ZSByZWNlaXZlZCBpbnZhbGlkIGNhY2hlIGVudHJ5ICR7Y2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlMSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZTEua2luZH1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU3MDFcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCBpc09uRGVtYW5kUmV2YWxpZGF0ZSA/ICdSRVZBTElEQVRFRCcgOiBjYWNoZUVudHJ5LmlzTWlzcyA/ICdNSVNTJyA6IGNhY2hlRW50cnkuaXNTdGFsZSA/ICdTVEFMRScgOiAnSElUJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEcmFmdCBtb2RlIHNob3VsZCBuZXZlciBiZSBjYWNoZWRcbiAgICAgICAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAncHJpdmF0ZSwgbm8tY2FjaGUsIG5vLXN0b3JlLCBtYXgtYWdlPTAsIG11c3QtcmV2YWxpZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhjYWNoZUVudHJ5LnZhbHVlLmhlYWRlcnMpO1xuICAgICAgICAgICAgaWYgKCEoZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc0lzcikpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmRlbGV0ZShORVhUX0NBQ0hFX1RBR1NfSEVBREVSKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGNhY2hlIGNvbnRyb2wgaXMgYWxyZWFkeSBzZXQgb24gdGhlIHJlc3BvbnNlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBvdmVycmlkZSBpdCB0byBhbGxvdyB1c2VycyB0byBjdXN0b21pemUgaXQgdmlhIG5leHQuY29uZmlnXG4gICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wgJiYgIXJlcy5nZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnKSAmJiAhaGVhZGVycy5nZXQoJ0NhY2hlLUNvbnRyb2wnKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdDYWNoZS1Db250cm9sJywgZ2V0Q2FjaGVDb250cm9sSGVhZGVyKGNhY2hlRW50cnkuY2FjaGVDb250cm9sKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UoY2FjaGVFbnRyeS52YWx1ZS5ib2R5LCB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGNhY2hlRW50cnkudmFsdWUuc3RhdHVzIHx8IDIwMFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRPRE86IGFjdGl2ZVNwYW4gY29kZSBwYXRoIGlzIGZvciB3aGVuIHdyYXBwZWQgYnlcbiAgICAgICAgLy8gbmV4dC1zZXJ2ZXIgY2FuIGJlIHJlbW92ZWQgd2hlbiB0aGlzIGlzIG5vIGxvbmdlciB1c2VkXG4gICAgICAgIGlmIChhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZShhY3RpdmVTcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxLmhlYWRlcnMsICgpPT50cmFjZXIudHJhY2UoQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBzcGFuTmFtZTogYCR7bWV0aG9kfSAke3JlcS51cmx9YCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogU3BhbktpbmQuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC50YXJnZXQnOiByZXEudXJsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIGlmIHdlIGFyZW4ndCB3cmFwcGVkIGJ5IGJhc2Utc2VydmVyIGhhbmRsZSBoZXJlXG4gICAgICAgIGlmICghYWN0aXZlU3Bhbikge1xuICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgcm91dGVQYXRoOiBub3JtYWxpemVkU3JjUGFnZSxcbiAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0aHJvdyBzbyB0aGF0IHdlIGNhbiBoYW5kbGUgc2VydmluZyBlcnJvciBwYWdlXG4gICAgICAgIC8vIElmIHRoaXMgaXMgZHVyaW5nIHN0YXRpYyBnZW5lcmF0aW9uLCB0aHJvdyB0aGUgZXJyb3IgYWdhaW4uXG4gICAgICAgIGlmIChpc0lzcikgdGhyb3cgZXJyO1xuICAgICAgICAvLyBPdGhlcndpc2UsIHNlbmQgYSA1MDAgcmVzcG9uc2UuXG4gICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgoods-out%2F%5Bid%5D%2Fdispatch-note%2Froute&page=%2Fapi%2Fgoods-out%2F%5Bid%5D%2Fdispatch-note%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgoods-out%2F%5Bid%5D%2Fdispatch-note%2Froute.ts&appDir=%2Fhome%2Fgascat%2Fprismaquant%2Fprisma-quantum%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fgascat%2Fprismaquant%2Fprisma-quantum&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/nodemailer"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgoods-out%2F%5Bid%5D%2Fdispatch-note%2Froute&page=%2Fapi%2Fgoods-out%2F%5Bid%5D%2Fdispatch-note%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgoods-out%2F%5Bid%5D%2Fdispatch-note%2Froute.ts&appDir=%2Fhome%2Fgascat%2Fprismaquant%2Fprisma-quantum%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fgascat%2Fprismaquant%2Fprisma-quantum&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();